-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/vaidehiparameswaran/Desktop/second-year-coursework/econ450-
> 1/psets/PS3/code/q2_part5.log
  log type:  text
 opened on:  16 Nov 2024, 23:21:08

. 
. use "../data/PS3_data.dta", clear

. local industry = "X10"

. keep if `industry' == 1
(10,406 observations deleted)

. 
. // generate variables
. gen log_output = X03

. gen log_capital = X40

. gen log_labour = X43

. gen log_int_consumption = X44

. gen log_price = X45

. gen log_int_price = X49

. gen exit_dummy = X61

. gen log_investment = X39

. 
. label var log_output "log of gross output"

. label var log_capital "log of capital"

. label var log_labour "log of labour"

. label var log_int_consumption "log of materials"

. label var exit_dummy "exit dummy"

. label var log_price "log of price"

. label var log_int_price "log of materials price"

. label var log_investment "log of investment"

. 
. // xtabond
. xtset firm_id year

Panel variable: firm_id (unbalanced)
 Time variable: year, 1990 to 1999, but with a gap
         Delta: 1 unit

. xtabond log_output log_capital log_labour log_int_consumption,  vce(robust) 

Arellanoâ€“Bond dynamic panel-data estimation     Number of obs     =        607
Group variable: firm_id                         Number of groups  =        155
Time variable: year
                                                Obs per group:
                                                              min =          1
                                                              avg =   3.916129
                                                              max =          8

Number of instruments =     40                  Wald chi2(4)      =     549.97
                                                Prob > chi2       =     0.0000
One-step results
                                (Std. err. adjusted for clustering on firm_id)
------------------------------------------------------------------------------
             |               Robust
  log_output | Coefficient  std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
  log_output |
         L1. |   .3279623   .0777371     4.22   0.000     .1756003    .4803243
             |
 log_capital |   .0717269   .0354435     2.02   0.043     .0022589    .1411949
  log_labour |   .1570143   .1088732     1.44   0.149    -.0563733    .3704019
log_int_co~n |   .6617109   .0692872     9.55   0.000     .5259105    .7975113
       _cons |  -1.215395   .7904619    -1.54   0.124    -2.764672    .3338816
------------------------------------------------------------------------------
Instruments for differenced equation
        GMM-type: L(2/.).log_output
        Standard: D.log_capital D.log_labour D.log_int_consumption
Instruments for level equation
        Standard: _cons

. eststo AB

. 
. // xtdpdsys
. xtdpdsys log_output log_capital log_labour log_int_consumption, vce(robust)

System dynamic panel-data estimation            Number of obs     =        794
Group variable: firm_id                         Number of groups  =        187
Time variable: year
                                                Obs per group:
                                                              min =          1
                                                              avg =   4.245989
                                                              max =          9

Number of instruments =     48                  Wald chi2(4)      =    1069.79
                                                Prob > chi2       =     0.0000
One-step results
------------------------------------------------------------------------------
             |               Robust
  log_output | Coefficient  std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
  log_output |
         L1. |   .2790641   .0689012     4.05   0.000     .1440201     .414108
             |
 log_capital |    .023145   .0266657     0.87   0.385    -.0291187    .0754088
  log_labour |   .0262751   .0806222     0.33   0.744    -.1317415    .1842918
log_int_co~n |   .6729047   .0700559     9.61   0.000     .5355976    .8102118
       _cons |   .6485769   .4410438     1.47   0.141    -.2158531    1.513007
------------------------------------------------------------------------------
Instruments for differenced equation
        GMM-type: L(2/.).log_output
        Standard: D.log_capital D.log_labour D.log_int_consumption
Instruments for level equation
        GMM-type: LD.log_output
        Standard: _cons

. eststo BB

. 
. // opreg - get value added output
. gen log_va_output = log(exp(log_output + log_price) - exp(log_int_consumption
>  + log_int_price)) 

. label var log_va_output "log of value added output"

. opreg log_va_output, exit(exit_dummy) state(log_capital) proxy(log_investment
> ) free(log_labour) vce(bootstrap, reps(100))
(running opreg on estimation sample)

Bootstrap replications (100): .........10.........20.........30.........40.....
> ....50.........60.........70.........80.........90.........100 done


Olley-Pakes productivity estimator              Number of obs      =       987
Group variable (i): firm_id                     Number of groups   =       192
Time variable (t): year
                                                Obs per group: min =         1
                                                               avg =       5.1
                                                               max =        10

                               (Replications based on 192 clusters in firm_id)
------------------------------------------------------------------------------
             |   Observed   Bootstrap                         Normal-based
             | coefficient  std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
log_va_out~t |
 log_capital |   .1079398   .0679965     1.59   0.112    -.0253309    .2412105
  log_labour |   .8918165   .0504959    17.66   0.000     .7928462    .9907867
------------------------------------------------------------------------------
State:         log_capital
Free:          log_labour
Control:       
Proxy:         log_investment

. //eststo OP
. 
. // levpet
. levpet log_output, free(log_labour) proxy(log_int_consumption) capital(log_ca
> pital) valueadded reps(250) i(firm_id)
...............................................................................
> .............................................................................
> .............................................................................
> .................


Levinsohn-Petrin productivity estimator

Dependent variable represents value added.      Number of obs      =       987
Group variable (i): firm_id                     Number of groups   =       192
Time variable (t): year
                                                Obs per group: min =         1
                                                               avg =       5.1
                                                               max =        10

------------------------------------------------------------------------------
  log_output | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
  log_labour |   .2765721   .0314257     8.80   0.000     .2149788    .3381654
 log_capital |   .1579185   .1034471     1.53   0.127    -.0448341    .3606711
------------------------------------------------------------------------------
Wald test of constant returns to scale: Chi2 =  31.92 (p = 0.0000).

. eststo LP 

. 
. // export
. esttab AB BB OP LP using "../outputs/prod_est.tex", replace mtitle("AB" "BB" 
> "OP" "LP") /// 
>     b(3) se(3) label starlevels(* 0.10 ** 0.05 *** 0.01)
estimation result OP not found
r(111);

end of do-file
r(111);
